name: web
description: Contains web-related functionality.

permissions:
  view:
    public: true

types:
  - name: httpHeader
    mapOf:
      key:
        leaf: string
      value:
        leaf: string

interfaces:
  - name: HTTPTextClient
    description: A client able to perform HTTP requests using text-based bodies.
    hubs:
      - name: getText
        description: Sends an HTTP GET request to the indicated URL, obtaining a text body.
        input:
          - name: url
            description: URL to send the GET request to.
            value:
              leaf: string
          - name: headers
            description: List of HTTP request headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        output:
          - name: body
            description: The response body as text.
            value:
              leaf: string
          - name: statusCode
            description: The HTTP status code.
            value:
              leaf: integer
          - name: headers
            description: List of HTTP response headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        type: pipe
        direction: in
      - name: postText
        description: Sends an HTTP POST request to the indicated URL, sending and obtaining a text body.
        input:
          - name: url
            description: URL to send the POST request to.
            value:
              leaf: string
          - name: body
            description: The request body as text.
            value:
              leaf: string
          - name: headers
            description: List of HTTP request headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        output:
          - name: body
            description: The response body as text.
            value:
              leaf: string
          - name: statusCode
            description: The HTTP status code.
            value:
              leaf: integer
          - name: headers
            description: List of HTTP response headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        type: pipe
        direction: in
      - name: deleteText
        description: Sends an HTTP DELETE request to the indicated URL, obtaining a text body.
        input:
          - name: url
            description: URL to send the DELETE request to.
            value:
              leaf: string
          - name: headers
            description: List of HTTP request headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        output:
          - name: body
            description: The response body as text.
            value:
              leaf: string
          - name: statusCode
            description: The HTTP status code.
            value:
              leaf: integer
          - name: headers
            description: List of HTTP response headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        type: pipe
        direction: in
      - name: putText
        description: Sends an HTTP PUT request to the indicated URL, sending and obtaining a text body.
        input:
          - name: url
            description: URL to send the PUT request to.
            value:
              leaf: string
          - name: body
            description: The request body as text.
            value:
              leaf: string
          - name: headers
            description: List of HTTP request headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        output:
          - name: body
            description: The response body as text.
            value:
              leaf: string
          - name: statusCode
            description: The HTTP status code.
            value:
              leaf: integer
          - name: headers
            description: List of HTTP response headers each consisting of a key and value string.
            value:
              listOf:
                reference: httpHeader
        type: pipe
        direction: in

blueprints:
  - name: HTTPTextClient
    description: An HTTP client using text-based bodies.
    interface:
      extends:
        - HTTPTextClient
    implementation:
      web:
        - system: HTTPClient
